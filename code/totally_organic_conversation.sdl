// Totally Organic Conversation
// dirt_hack 2025.10.7

setcpm(120)

await initHydra({feedStrudel:1})

src(s0)
  .rotate(()=>time%360)
  .kaleid(2)
  .out()

const energy = (sine.range(500,20000).seg(0.98))

$one: note("<[bb3,f4]!2[c4,g4]!2 - [c4,g4][ab3,eb4] - [ab3,eb4] - [f3,c4] - [f3,c4]!2[ab3,eb4][eb3,bb4]!2 - [c3,g4] - [c3,g4]>*4").palindrome()
  .s("gm_epiano1, gm_acoustic_guitar_steel, pulse")
  .transpose("<-12 0>/2")
  .delay(0.25).dt(.41)
  .lpf(energy)
  .color("cyan")
  .room(1).rsize(3)
  .gain(slider(1.67,0,4,0.01))
  .punchcard()

_$two: s("<sbd hh hh sbd hh hh white hh>*4")
  .color("blue")
  .punchcard()

$hh: s("<hh>*4")

_$three: note("<bb3 f4 c4 - g4 c4 - g4 - ab3 eb4 - ab3 eb4 f3  - c4 f3 - c4 - ab3 - eb4 eb3 - bb4 c3 g4 - c3 g4 - >*4")
  .s("sine, gm_glockenspiel")
  .rel(0.5)
  .transpose("<12 24>/2")
  .lpf(energy)
  .echo(2,0.5,2)
  .room(1).size(3)
  .pan(sine.range(0,1))
  .color("green")
  .punchcard()

_$four: note("g5")
  .s("gm_flute, gm_recorder")
  .transpose(0)
  .rel(1)
  .color("pink")
